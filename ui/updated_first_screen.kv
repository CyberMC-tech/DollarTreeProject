ScreenManager:
    LoginScreen:
        name: "login_screen"
        id: login_screen
    HomeScreen:
        name: "home_screen"
        id: home_screen

<LoginScreen>:

    Image:
        source: "../assets/backgrounds/image3.jpg"
        size_hint: 1, 1
        keep_ratio: False
        allow_stretch: True
        opacity: .5

    Image:
        source: "../assets/dollar_tree_with_logo.png"
        size_hint: 0.98, .15
        pos_hint: {"top": 0.99}
        keep_ratio: True
        allow_stretch: False

    MDTextField:
        id: username_field
        mode: "round"
        hint_text: "Employee ID"
        helper_text: "Same numbers used to clock in"
        helper_text_mode: "on_focus"
        icon_right: "account"
        pos_hint: {"center_x": 0.5, "top": 0.5}
        size_hint: 0.75, None
        height: "30dp"
        icon_right_color_focus: 113/225, 180/225, 67/225, 1
        text_color_focus: 0, 0, 0, 1
        helper_text_color_focus: 0, 0, 0, .3

    MDTextField:
        id: password_field
        mode: "round"
        hint_text: "Password"
        helper_text: "last 4 of your SSN"
        helper_text_mode: "on_focus"
        password: True
        max_text_length: 4
        icon_right: "eye"
        icon_right_color_focus: 113/225, 180/225, 67/225, 1
        pos_hint: {"center_x": 0.5, "top": 0.40}
        size_hint: 0.75, None
        height: "20dp"
        text_color_focus: 0, 0, 0, 1
        helper_text_color_focus: 0, 0, 0, .3

    MDRoundFlatButton:
        id: login_button
        text: "Login"
#        font_size: "20dp"
        pos_hint: {"center_x": 0.3, "center_y": 0.25}
        size_hint: 0.2, None
        height: "48dp"
        font_style: "H6"
        theme_text_color: "Hint"
        line_width: 1.3
        on_release:
            self.text = "Signing In..."
            root.login()
#            root.manager.current = 'home_screen'  # Assuming you have a method to handle login

    MDRoundFlatButton:
        text: "Exit"
#        font_size: "18dp"
        pos_hint: {"center_x": 0.7, "center_y": 0.25}
        size_hint: 0.2, None
        height: "48dp"
        on_release: app.stop()
        font_style: "H6"


<HomeScreen>:
    Image:
        source: "../assets/backgrounds/image2.jpg"
        size_hint: 1, 1
        keep_ratio: False
        allow_stretch: True
        opacity: .9

    MDTopAppBar:
        id: top_bar
        pos_hint: {"top": 1}
        title: "Compass Mobile"
        elevation: 6
        anchor_title: "center"
        left_action_items: [["menu"]]
        right_action_items: [["logout", lambda x: app.quit()]]

    MDLabel:
        id: welcome_label
        text: ""
        halign: "center"
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        font_style: "Body1"
        font_size: "30dp"

